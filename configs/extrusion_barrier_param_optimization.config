// Copyright (C) 2022 Roberto Rossini <roberros@uio.no>
//
// SPDX-License-Identifier: MIT

params {
    data_dir = 'data'
    input_dir = "${data_dir}/input"
    output_dir = "${data_dir}/output/extrusion_barrier_param_optimization"
    script_dir = '/scripts'

    chrom_sizes = "${data_dir}/output/preprocessing/chrom_sizes/GRCh38.chrom.sizes"
    candidate_barriers = "${data_dir}/output/preprocessing/extrusion_barriers/GRCh38_CTCF_mast_hits.bed.gz"
    regions_of_interest = "${data_dir}/input/extrusion_barrier_param_optimization_regions_of_interest.bed"
    bin_size = 5000
    target_contact_density = 2.0

    hic_low_sigma = 2.2
    hic_sigma_mult = 1.05
    hic_discr_thresh = 0.08

    microc_low_sigma = 1.5
    microc_sigma_mult = 1.05
    microc_discr_thresh = 0.035

    modle_low_sigma = 1.0
    modle_sigma_mult = 1.25
    modle_discr_thresh = 0.015

    reference_hic = "${data_dir}/output/preprocessing/mcools/GRCh38_H1_hESC_hic_4DNFIFJH2524_fixed.mcool"
    reference_microc = "${data_dir}/output/preprocessing/mcools/GRCh38_H1_hESC_microC_4DNFI9GMP2J8_fixed.mcool"

    hic_modle_config = 'configs/modle/extrusion_barrier_param_optimization_hic.toml'
    microc_modle_config = 'configs/modle/extrusion_barrier_param_optimization_microc.toml'
}

process {
    container = 'docker://ghcr.io/paulsengroup/2021-modle-paper-001-data-analysis/param-optimization:1.0.17'

    withName:cooler_zoomify {
        container = 'docker://ghcr.io/paulsengroup/2021-modle-paper-001-data-analysis/cooltools:0.5.1'
    }
}
